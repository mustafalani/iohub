   </div>
  <footer class="app-footer">
      <div>
        <a href="http://iohub.live">iohub v2.0 <span class="badge badge-warning">BETA</span></a>
        <span>&copy; - Copyright <a href="https://kurrent.tv">Kurrent TV </a>All rights reserved.</span>
      </div>
      <div class="ml-auto">
        <span>Technical Support</span>
        <a href="#"> <i class="fa fa-angle-up"></i></a>
      </div>
    </footer>
    <!-- Bootstrap and necessary plugins-->
    <script src="<?php echo site_url();?>node_modules/jquery/dist/jquery.min.js"></script>

    <script src="<?php echo site_url();?>node_modules/popper.js/dist/umd/popper.min.js"></script>
   <!---->
    <script src="<?php echo site_url();?>node_modules/pace-progress/pace.min.js"></script>
    <script src="<?php echo site_url();?>node_modules/perfect-scrollbar/dist/perfect-scrollbar.min.js"></script>
  <!--   <script src="<?php echo site_url();?>node_modules/bootstrap/dist/js/bootstrap.min.js"></script>-->
    <script src="<?php echo site_url();?>node_modules/@coreui/coreui-pro/dist/js/coreui.min.js"></script>
     <script src="<?php echo site_url();?>/node_modules/jquery-ui-dist/jquery-ui.js"></script>
    <!-- Plugins and scripts required by this view-->
    <script>
    	if(Action == "dashboard")
      	{
      		var my_awesome_script1 = document.createElement('script');
			my_awesome_script1.setAttribute('src',baseURL+'node_modules/chart.js/dist/Chart.min.js');
			document.head.appendChild(my_awesome_script1);
      	}
    </script>
     <!--<script src="<?php echo site_url();?>node_modules/chart.js/dist/Chart.min.js"></script>-->
    <script src="<?php echo site_url();?>node_modules/@coreui/coreui-plugin-chartjs-custom-tooltips/dist/js/custom-tooltips.min.js"></script>
 <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.21.0/moment.min.js" type="text/javascript"></script>
   <script src="<?php echo site_url();?>public/site/main/Date-Time-Picker/build/js/bootstrap-datetimepicker.min.js"></script>

       <!--<script src="<?php echo site_url();?>public/site/main/js/jquery-ui.js"></script>-->
   <!-- <script src="<?php echo site_url();?>public/site/main/bootstrap/js/bootstrap.min.js"></script>-->
   <script src="<?php echo site_url();?>/node_modules/bootstrap/js/dist/util.js"></script>
   <script src="<?php echo site_url();?>/node_modules/bootstrap/js/dist/modal.js"></script>

 <!-- <script src="<?php echo site_url();?>/node_modules/bootstrap-datetime-picker/js/bootstrap-datetimepicker.min.js"></script>-->
    <!-- === Date Picker === -->
 <!--   <script src="<?php echo site_url();?>public/site/main/js/bootstrap-datetimepicker.min.js"></script>
    <script src="<?php echo site_url();?>/node_modules/bootstrap-daterangepicker/daterangepicker.js"></script>-->

<!--<script src="<?php echo site_url();?>public/site/main/js/plugins/bootstrap-daterangepicker/daterangepicker.js"></script>-->
      <script src="<?php echo site_url();?>node_modules/bootstrap-select-v4/dist/js/bootstrap-select.min.js"></script>
      <script src="<?php echo site_url();?>public/site/main/js/bootstrap-multiselect.js"></script>

    <script src="<?php echo site_url();?>public/site/main/js/datatables.min.js"></script>
    <script src="<?php echo site_url();?>public/site/main/js/admin.min.js"></script>
    <script src="<?php echo site_url();?>public/site/main/js/sweetalert.js"></script>
       <script src="<?php echo site_url();?>public/site/main/js/toastr.min.js"></script>
       <!-- fullCalendar -->
	<script src="<?php echo site_url();?>public/site/main/js/moment.js"></script>
	<script src="<?php echo site_url();?>public/site/main/js/fullcalendar.min.js"></script>
	   <script src="<?php echo site_url();?>public/site/main/js/jquery.flowchart.js"></script>
	 <script type="text/javascript" src="<?php echo site_url();?>public/site/main/js/highcharts.js"></script>
	<script type="text/javascript" src="<?php echo site_url();?>public/site/main/js/exporting.js"></script>
	<script type="text/javascript" src="<?php echo site_url();?>public/site/main/js/resumable.js"></script>
    <script src="<?php echo site_url();?>public/site/main/js/custom.js"></script>
    <script src="<?php echo site_url();?>public/site/main/js/custom_nebula.js"></script>
     <script src="<?php echo site_url();?>public/site/main/js/workflow.js"></script>

   <script src="<?php echo site_url();?>public/site/main/js/swfobject.min.js"></script>
   <script src="<?php echo site_url();?>public/site/main/js/net_js_main.js"></script>
   <script src="<?php echo site_url();?>public/site/main/js/piecircle.js"></script>
   <!--  404 Start-->
   	<script src="<?php echo site_url();?>public/site/main/js/jquery.vide.min.js"></script>
	<!-- Waypoints -->
	<script src="<?php echo site_url();?>public/site/main/js/jquery.waypoints.min.js"></script>
	<!-- Main JS -->
	<script src="<?php echo site_url();?>public/site/main/js/main.js"></script>
	<script src="<?php echo site_url();?>public/site/main/js/dropzone.js"></script>
	<!--  404 Start-->
     <script src="<?php echo site_url();?>public/site/main/js/jquery.countdownTimer.min.js"></script>
	 <script src="<?php echo site_url();?>public/site/main/js/jstz.min.js"></script>
	 <script src="<?php echo site_url();?>public/site/main/js/jClocksGMT.js"></script>
     <script src="<?php echo site_url();?>public/site/main/js/jquery.rotate.js"></script>
     <script src="<?php echo site_url();?>public/site/main/js/ion.rangeSlider.min.js"></script>
     <script src="http://SortableJS.github.io/Sortable/Sortable.js"></script>
     <script>
    	if(Action == "dashboard")
      	{
      		var my_awesome_script2 = document.createElement('script');
			my_awesome_script2.setAttribute('src',baseURL+'public/site/main/main.js');
			document.head.appendChild(my_awesome_script2);
      	}
    </script>
   <!-- <script src="<?php echo site_url();?>public/site/main/main.js"></script>-->
          <script type="text/javascript">
    	var netdataTheme = 'slate'; // this is dark

    </script>
   <script type="text/javascript">

      	if(Action == "dashboard" || Action == "editEncoder" || Action == "editGateway" || Action == "updatewowzaengin" || Action == "configuration" || Action == 'editnebula')
      	{
			var my_awesome_script = document.createElement('script');
			my_awesome_script.setAttribute('src',baseURL+'public/site/main/js/dashboard.js?v20170724-7');
			document.head.appendChild(my_awesome_script);
		}
		if(Action == "channels")
      	{
			setInterval(upTime, 1000);
		}

      </script>

    <script src="<?php echo site_url();?>public/site/main/js/custom-kurrent.js"></script>


    <script type="text/javascript">

		if(Action == "dashboard" || Action == "editEncoder" || Action == "editGateway" || Action == "updatewowzaengin")
      	{
      		//NETDATA = {};
      		NETDATA.options.current.destroy_on_hide = true;
			// set this to false, to always show all dimensions
			NETDATA.options.current.eliminate_zero_dimensions = true;
			// lower the pressure on this browser
			NETDATA.options.current.concurrent_refreshes = false;
			// if the tv browser is too slow (a pi?)
			// set this to false
			NETDATA.options.current.parallel_refresher = true;
			//NETDATA.options.current.stop_updates_when_focus_is_lost = false;
			// always update the charts, even if focus is lost
			// NETDATA.options.current.stop_updates_when_focus_is_lost = false;
			// Since you may render charts from many servers and any of them may
			// become offline for some time, the charts will break.
			// This will reload the page every RELOAD_EVERY minutes
	      		var RELOAD_EVERY = 5;
					setTimeout(function(){
				    location.reload();
				}, RELOAD_EVERY * 60 * 1000);
		}
    </script>
	<div id="profileUploadsPic" class="modal fade" role="dialog">
  	<div id="profilePic" class="modal-dialog popup dropzone">
  			<div class="dz-message" data-dz-message><span>Click/Drop Image file Here</span></div>
  		</div>
  </div>
  <script>
    //var timezone = jstz.determine();
    //console.log(new Date().toLocaleString('en-US', { timeZone: timezone.name() }));
    </script>
<script type="text/javascript">
 Dropzone.autoDiscover = false;
$(document).ready(function () {
    //$("#frm_assetsmain").dropzone({
     //   maxFiles: 2000,
      //  url: "/ajax_file_upload_handler/",
     //   success: function (file, response) {
     //       console.log(response);
      //  }
   // });
});
$(document).ready(function(){

	$('.opentopmenu').click(function(){
		if($('body').hasClass('sidebar-lg-show'))
		{
			$('.upparmenu').removeClass('dnone');
		}
		else{
			$('.upparmenu').addClass('dnone');
		}
	});

 	$('.netdatabutton').click(function(){
 		var _t = $(this).html();
 		switch(_t)
 		{
			case "System":
			$('#divsystem').removeClass('hidden');
			$('#divcpu').addClass('hidden');
			$('#divmemory').addClass('hidden');
			$('#divdisks').addClass('hidden');
			$('#divnetworkstack').addClass('hidden');
			$('#divservices').addClass('hidden');
			break;
			case "CPUs":
			$('#divsystem').addClass('hidden');
			$('#divcpu').removeClass('hidden');
			$('#divmemory').addClass('hidden');
			$('#divdisks').addClass('hidden');
			$('#divnetworkstack').addClass('hidden');
			$('#divservices').addClass('hidden');
			break;
			case "Memory":
			$('#divsystem').addClass('hidden');
			$('#divcpu').addClass('hidden');
			$('#divmemory').removeClass('hidden');
			$('#divdisks').addClass('hidden');
			$('#divnetworkstack').addClass('hidden');
			$('#divservices').addClass('hidden');
			break;
			case "Disks":
			$('#divsystem').addClass('hidden');
			$('#divcpu').addClass('hidden');
			$('#divmemory').addClass('hidden');
			$('#divdisks').removeClass('hidden');
			$('#divnetworkstack').addClass('hidden');
			$('#divservices').addClass('hidden');
			break;
			case "Networking Stack":
			$('#divsystem').addClass('hidden');
			$('#divcpu').addClass('hidden');
			$('#divmemory').addClass('hidden');
			$('#divdisks').addClass('hidden');
			$('#divnetworkstack').removeClass('hidden');
			$('#divservices').addClass('hidden');
			break;
			case "Services":
			$('#divsystem').addClass('hidden');
			$('#divcpu').addClass('hidden');
			$('#divmemory').addClass('hidden');
			$('#divdisks').addClass('hidden');
			$('#divnetworkstack').addClass('hidden');
			$('#divservices').removeClass('hidden');
			break;
		}
 	});
	$("#rangeslider").ionRangeSlider({
    type: "single",
    min: -20,
    max: 20,
    step: 5,
    grid: true,
    grid_snap: true,
    prettify: function (num) {
        //var m = moment(num, "X").locale("ja");
        return num + "dB";
    }
});

	var d = new Date().toLocaleString('en-US', { timeZone: 'Europe/Copenhagen' });
	var offsetdd = $('#current_timer').attr("title");
	$('#current_timer').jClocksGMT(
    {
    	titel:'',
        offset: offsetdd,
        timeformat: 'HH:mm:ss',
        digital:true,
        analog:false
    });

	$('#rundown_starttime').datetimepicker({
		format:'DD/MM/YYYY H:mm:s'
	});
	$('#rundown_endtime').datetimepicker({
		format:'DD/MM/YYYY H:mm:s'
	});

    $('#channel_starttime').datetimepicker({
		format:'DD/MM/YYYY H:mm:s'
	});
    $('#channel_endtime').datetimepicker({
		format:'DD/MM/YYYY H:mm:s'
	});

    $('#schedule_popup_channel_starttime').datetimepicker({
		format:'DD/MM/YYYY H:mm:s'
	});
    $('#schedule_popup_channel_endtime').datetimepicker({
		format:'DD/MM/YYYY H:mm:s'
	});

    $('#schedule_popup_target_starttime').datetimepicker({
		format:'DD/MM/YYYY H:mm:s'
	});
    $('#schedule_popup_target_endtime').datetimepicker({
		format:'DD/MM/YYYY H:mm:s'
	});

    $('#edit_schedule_popup_channel_starttime').datetimepicker({
		format:'DD/MM/YYYY H:mm:s'
	});
    $('#edit_schedule_popup_channel_endtime').datetimepicker({
		format:'DD/MM/YYYY H:mm:s'
	});

    $('#edit_schedule_popup_target_starttime').datetimepicker({
		format:'DD/MM/YYYY H:mm:s'
	});
    $('#edit_schedule_popup_target_endtime').datetimepicker({
		format:'DD/MM/YYYY H:mm:s'
	});

    $('#start_date').datetimepicker({
		format:'DD/MM/YYYY H:mm:s'
	});
    $('#end_date').datetimepicker({
		format:'DD/MM/YYYY H:mm:s'
	});



    //$('#datetimepicker1').datetimepicker();
   // $('#datetimepicker2').datetimepicker();

     $('#datetimepicker3').datetimepicker();
    $('#datetimepicker4').datetimepicker();

    //$('#datetimepicker_schedule_start_time').datetimepicker();
   // $('#datetimepicker_schedule_end_time').datetimepicker();

    //$('#edit_datetimepicker_schedule_start_time').datetimepicker();
   // $('#edit_datetimepicker_schedule_end_time').datetimepicker();

  //  $('#datetimepicker_schedule_target_starttime').datetimepicker();
  //  $('#datetimepicker_schedule_target_endtime').datetimepicker();

  //  $('#edit_datetimepicker_schedule_target_starttime').datetimepicker();
  //  $('#edit_datetimepicker_schedule_target_endtime').datetimepicker();
    //$('.datetimepicker').datetimepicker();
    //$('#target_startendtime').daterangepicker({ timePicker: true, timePickerIncrement: 30, locale: {format: 'MM/DD/YYYY h:mm A'}});
	/*$("#current_timer").countdowntimer({
		//dateAndTime :d,
	currentTime:true,
	displayFormat:"DHMS"
	});*/
	$('#twitter-widget-0').removeAttr("style");
	$('#twitter-widget-0').css({"width":"100%","max-width":"100%"});
	$("#twitter-widget-0").contents().find("html").attr("style","max-width:100%;height:100%");
	$("#twitter-widget-0").contents().find("div#twitter-widget-0").attr("style","max-width:100%;height:100%");
	$("#twitter-widget-0").contents().find("div.EmbeddedTweet-tweet").attr("style","max-width:100%;height:100%");
	$('.irs-grid .irs-grid-text').each(function(){
		//$(this).text($(this).text()+ "db");
	});
});
</script>
<script type="text/javascript">

function play() {

	var id = "";
	if(Segmnetthree == "offline")
	{
		id = "player_live";
	}
	else if(Segmnetthree == "live")
	{
		id = "player_live";
	}
	var src = $('#' + id).attr("title");

	if (src) {
		playRTMP(src,id);
	}
}
function playSource()
{
	var src = $('#player_source').attr("title");

	if($('#player_source_rtmp').length>0)
	{
		var src1 = $('#player_source_rtmp').attr("title");
		playTargetRTMP(src1,"player_source_rtmp");
	}
	if (src) {
		playTargetRTMP(src,"player_source");
	}
}
function playStreams(id)
{
	var src = $('.' + id).val();
	if(src != "")
	{
		src = src.replace("http","rtmp");
		var pid= id + "_player";
		if (src) {
			playRTMP(src,pid);
		}
	}
	else
	{
		swal("Warning","Enter RTMP URL First!", 'warning');
	}
}
function playAppSRC(src)
{
	if(src != "")
	{
		var id="player_apps";
		if (src) {
			playRTMP(src,id);
		}
	}
	else
	{
		swal("Warning","Select App First!", 'warning');
	}
}
function playRundownPlaylist()
{
	var src = $('#player_rundownlive').attr('title');
	if(src != "")
	{
		//src = src.replace("http","rtmp");
		var id="player_rundownlive";
		if (src) {
			playRTMP(src,id);
		}
	}
	else
	{
		swal("Warning","Select App First!", 'warning');
	}
}
function playApp()
{
	var src = $('#block').val();
	if(src != "")
	{
		src = src.replace("http","rtmp");
		var id="player_apps";
		if (src) {
			playRTMP(src,id);
		}
	}
	else
	{
		swal("Warning","Select App First!", 'warning');
	}
}
function startPlayer()
{
	$('#statusvideo').text("Online").removeAttr('class').addClass('label label-live');
	play();
	player_live.play2();
}
function stopPlayer()
{
	var attr = $('#player_live').attr('type');
	if(typeof attr !== typeof undefined && attr !== false)
	{
		$('#statusvideo').text("Offline").removeAttr('class').addClass('label label-gray');
		player_live.stop2();
	}
	else
	{
		toastr['warning']('Player is not started yet!');
	}
}
$(document).ready(function() {
	if(Action == "updatechannel")
	{
		play();
	}
	if(Action == "editTarget")
	{
		playSource();
	}

});
$(document).on('click','.playStreams',function(){
	var id = $(this).attr('id');
	playStreams(id);
});
$(document).on('click','#playappp',function(){
	playApp();
});
$(document).on('click','#playrunlist',function(){
	playRundownPlaylist();
});
$(document).on('click','#playappp',function(){
	playApp();
});
$(document).on('click','.plapp',function(){
	if($(this).find('i').hasClass("fa-play"))
	{
		$(this).find('i').removeClass('fa-play');
		$(this).find('i').addClass('fa-pause');
		var src = $(this).attr("aria-label");
		playAppSRC(src);
	}
	else if($(this).find('i').hasClass("fa-pause"))
	{
		$(this).find('i').removeClass('fa-pause');
		$(this).find('i').addClass('fa-play');
		player_apps.stop2();
	}



});
function validateUrl(url) {
    if (url == "") {
        $("#url-form").removeClass("has-success");
        $("#url-form").addClass("has-error");
        $("#url-form").addClass("has-feedback");
        var helperIcon = '<span class="glyphicon glyphicon-warning-sign form-control-feedback" id="helper_icon"></span>';
        if ($("#url-form").find("#helper_icon")) {
            $("#url-form").find("#helper_icon").remove();
            $("#url-form").append(helperIcon);
        } else {
            $("#url-form").append(helperIcon);
        }
        var errorText = '<span class="help-block text-right" id="error_text">Please enter URL before play it.</span>';
        if ($("#url-form").find("#error_text")) {
            $("#url-form").find("#error_text").remove();
            $("#url-form").append(errorText);
        } else {
            $("#url-form").append(errorText);
        }
        return false;
    } else {
        $("#url-form").removeClass("has-error");
        $("#url-form").addClass("has-success");
        $("#url-form").addClass("has-feedback");
        var helperIcon = '<span class="glyphicon glyphicon-ok form-control-feedback" id="helper_icon"></span>';
        if ($("#url-form").find("#helper_icon")) {
            $("#url-form").find("#helper_icon").remove();
            $("#url-form").append(helperIcon);
        } else {
            $("#url-form").append(helperIcon);
        }
        if ($("#url-form").find("#error_text")) {
            $("#url-form").find("#error_text").remove();
        }
        return true;
    }
}
</script>
	<script type="text/javascript">

$(document).ready(function(){
	/*var action = '<?php echo $this->uri->segment(1);?>';
	$('a[data-toggle="tab"]').on('show.bs.tab', function(e) {
		var id = $(e.target).attr("id");
		localStorage.setItem('activeTab', $(e.target).attr('href'));
	});
	var activeTab = localStorage.getItem('activeTab');
	if(activeTab){
		switch(action)
		{
			case "clients":
				$('#clients a[href="' + activeTab + '"]').tab('show');
			break;
			case "configuration":
				$('#configuration a[href="' + activeTab + '"]').tab('show');
			break;
			case "applications":
				$('#appstarger a[href="' + activeTab + '"]').tab('show');
			break;

		}

	}*/
});

	$(document).ready(function(){

	$('#streamurl').css("color","#999999");
  	$('#streamurl').blur(function(){
  		$('#streamurl').attr("readonly",true);
  		$('#streamurl').css("color","#999999");
  	});
  	$('#block').css("color","#999999");
  	$('#block').blur(function(){
  		$('#block').attr("readonly",true);
  		$('#block').css("color","#999999");
  	});
  });

		$('#add_wowza').click(function(){
			$('#wowza_form').css('display','block');
		})

	$(function() {
	  /* Upload Profile Pic */
		//$('#profilePic').dropzone({ url: baseURL + "admin/uploadGroupPic",uploadMultiple:false,dictDefaultMessage:"Click / Drop here to upload files"});
	});
	$('#uploadprofilepic').click(function(){ $('#groupfile').trigger('click'); });

	function showApplicationURL(id)
	{
		$.ajax({
			url:baseURL + "admin/getApplicationStreams",
			type:"post",
			data:{'id':id},
			dataType:"json",
			success:function(jsonResponse){
				if(jsonResponse.status)
				{
					$('#streamurl').val(jsonResponse.data);
				}
			}
		});
	}
	function showAddress(ip)
	{
		var appname = $("#application_name").val();
		if(appname == "")
		{
			alert("Enter Application Name First");
			$('#live_source').val("0");
			$('#block').val("");
		}
		else
		{
			if(ip == 0)
			{
				$('#live_source').val("0");
				$('#block').val("");
			}
			else
			{
				$.ajax({
				url:baseURL + "admin/getIPAdressByWowaz",
				type:"post",
				data:{'id':ip},
				dataType:"json",
				success:function(jsonResponse){

					if(jsonResponse.status)
					{
						var htmltext = "rtmp://"+jsonResponse.data[0].ip_address+ ":"+ jsonResponse.data[0].rtmp_port+ "/" + appname + "/" + jsonResponse.data[0].stream_name;

						$('#block').val(htmltext);
					}
				}
			});
			}
		}
	}

	</script>
	<?php
	$userdata = $this->session->userdata('lock_data');
	if(!empty($userdata) && array_key_exists('isLock',$userdata))
	{
		$isLock = $userdata['isLock'];
		if($isLock)
		{
			?>
				<div id="divlock" class="screenunlock">
					<?php
					$this->load->view('admin/login');
					?>
				</div>
			<?php
		}
		else
		{
			?>
				<div id="divlock" class="screenlock">
					<?php
					$this->load->view('admin/login');
					?>
				</div>
			<?php
		}
	}
	else
	{
		?>
				<div id="divlock" class="screenlock">
					<?php
					$this->load->view('admin/login');
					?>
				</div>
			<?php
	}
	?>

<div class="loaddiv">
	<img src="<?php echo site_url();?>public/site/main/img/loading.gif"/>
</div>
 <script>
 var messageReceive = false;
    	if(Action == "editrundown")
      	{
      		var per =0;
      		let websocket_conn = null;
				function  initConnection(){

					socketURL = RUNDOWN_URL.replace('https://','');
					console.log("Connection Init " + socketURL);
					 websocket_conn = new WebSocket('wss://'+ socketURL +':8865/opt/ffplayout/playlists/logs/'+PLAYLISTNAME +'/ffplayout.log?tail=1');
					// websocket_conn = new WebSocket('ws://152.115.45.138:8865/home/iohub/ffplayout/playlists/logs/test-rundown-01_4j3b.log?tail=1')

				}
				function pong(){
					console.log("Send: Pong");
					websocket_conn.send('pong');
				}
				initConnection();
				websocket_conn.onopen = function () {
				}
				websocket_conn.onmessage = function (evt) {
				    var msg = evt.data;
				    console.log("Message Received: " + msg);
				    if (msg == 'ping') {
				        pong();
				        return;
				    }
				    else
				    {
				    	var array_message = msg.split('\n');

						if(isPlaylistOnline == 1){
							if(array_message.length <=10)
					    	{
								for(var i=0; i<array_message.length; i++)
						    	{
						    		if(array_message[i].includes("Index") == true)
						    		{
						    			/*var interval_id = window.setInterval("", 9999); // Get a reference to the last

										for (var i = 1; i < interval_id; i++){
											window.clearInterval(i);
										}
										   */

										var array_message_string = array_message[i].toString().replace('\"',"").split("  ");
										var string_source = array_message_string[1].toString().replace("Node: \"{",",");
										string_source = string_source.replace("}","");
										string_source = string_source.replace(/ +/g, "");
										string_source = string_source.replace(/'/g, '');
										var arrray_source = string_source.split(',');
										var _playlist_index = arrray_source[0].split(':');
										var _playlist_index_no = _playlist_index[1].toString().replace('\"',"");
										console.log(_playlist_index_no);
										$('#tableassetsss tr').each(function(){
											$(this).removeAttr('style');
											$(this).find('#status').removeClass('label-success').addClass('label-gray').html('Ready');
											$(this).find('#status').removeClass('label-warning').addClass('label-gray').html('Ready');
										});
										var time = $('#tableassetsss tr:eq('+ parseInt(_playlist_index_no) +')').find('td.duration').attr('accesskey');						var seconds = time * 1000;
										$('.starttime_bar').text('00:00:00');
										$('.endtime_bar').text($('#tableassetsss tr:eq('+ parseInt(_playlist_index_no) +')').find('td.duration').html());
										per = per + time;
										currentIndexGreenBar = parseInt(currentIndexGreenBar)  + per;
										$('.progress-bar-one').css({background: "linear-gradient(to right, #4dbd74 "+currentIndexGreenBar+"%,transparent "+currentIndexGreenBar+"%,transparent 100%)"});
										start(seconds);
										var now = $('#tableassetsss tr:eq('+ parseInt(_playlist_index_no) +')').find('td:eq(2)').html();
										$('.nowclip').text(now);
										$('#tableassetsss tr:eq('+ parseInt(_playlist_index_no) +')').attr('style','background-color: #01a65a17;');
										$('#tableassetsss tr:eq('+ parseInt(_playlist_index_no) +')').find('#status').removeAttr('class').addClass('label label-success').text('ONAIR');

										var next = $('#tableassetsss tr:eq('+ (parseInt(_playlist_index_no) + 1) +')').find('td:eq(2)').html();
										$('.nextclip').text(next);

										$('#tableassetsss tr:eq('+ (parseInt(_playlist_index_no) + 1) +')').attr('style','background-color: #ffc10736;');
										$('#tableassetsss tr:eq('+ (parseInt(_playlist_index_no) + 1) +')').find('#status').removeAttr('class').addClass('label label-warning').text('CUED');
										if(parseInt(_playlist_index_no) > 0){
											$('#tableassetsss tr:eq('+ (parseInt(_playlist_index_no) -1) +')').removeAttr('style');
											$('#tableassetsss tr:eq('+ (parseInt(_playlist_index_no) -1) +')').find('#status').removeAttr('class').addClass('label label-gray').text('READY');
										}

									}
								}
							}
						}
					}
				}
				websocket_conn.onclose = function() {
					console.log("Connection Close: Init Again");
				    initConnection();
				}
      	}
      	function start(d){
		     var duration = d; // it should finish in 5 seconds !
		     var percent = duration / 100; // 1 percent of duration
		     var i = 0 ;
		     var interval = setInterval(function(){
		        i++;
		         $('.progress-bar-tow').css({background: "linear-gradient(to right, #3C8DBC "+i+"%,transparent "+i+"%,transparent 100%)"});
		         //var th = percent/1000;
		        // var t = secondsToHms(th);
		        //$('.starttime_bar').text(t);
		        if(i>=100){
		            clearInterval(interval);
		        }
		    }, percent);
		}
		function startCurrentIndex(d,startindex){
		     var duration = d; // it should finish in 5 seconds !
		     var ind = (startindex * 1000);

		     var percent = duration / 100; // 1 percent of duration
		     var currentpercent = (percent/parseInt(ind))*1000;
		     var i = parseInt(currentpercent);
		      $('.progress-bar-tow').css({background: "linear-gradient(to right, #3C8DBC "+i+"%,transparent "+i+"%,transparent 100%)"});
		     var interval = setInterval(function(){
		        i++;
		         $('.progress-bar-tow').css({background: "linear-gradient(to right, #3C8DBC "+i+"%,transparent "+i+"%,transparent 100%)"});
		        if(i>=100){
		            clearInterval(interval);
		        }
		    }, percent);
		}
		$(document).ready(function(){
			/*if(isPlaylistOnline == 1 && currentIndex >= 0){
				var time = $('#tableassetsss tr:eq('+ parseInt(currentIndex) +')').find('td.duration').attr('accesskey');				var seconds = time * 1000;
				startCurrentIndex(seconds,currentIndexPostion);
			}*/
			var startcounter = currentIndexPostion;
			var totalDuration = currentIndexDuration;
			if(startcounter > 0 && totalDuration > 0)
			{
				setInterval(function(){
				 startcounter++;
				if(startcounter <= totalDuration){
				   $('.countup').html(startcounter);
				 }}, 1000);
				}

		});
    </script>
  </body>
</html>



    <!-- ============================== Viewport Container End ============================== -->

    <!-- ========= jQuery Included ========= -->

<!--    <script src="<?php echo site_url();?>public/site/main/js/jquery.min.js"></script>
    <script src="<?php echo site_url();?>public/site/main/js/jquery-ui.js"></script>
    <script src="<?php echo site_url();?>public/site/main/bootstrap/js/bootstrap.min.js"></script>
    <script src="<?php echo site_url();?>public/site/main/js/bootstrap-datetimepicker.min.js"></script>
        <script src="<?php echo site_url();?>public/site/main/js/bootstrap-select.min.js"></script>
      <script src="<?php echo site_url();?>public/site/main/js/bootstrap-multiselect.js"></script>
    <script src="<?php echo site_url();?>public/site/main/js/datatables.min.js"></script>
    <script src="<?php echo site_url();?>public/site/main/js/admin.min.js"></script>
    <script src="<?php echo site_url();?>public/site/main/js/sweetalert.js"></script>
       <script src="<?php echo site_url();?>public/site/main/js/toastr.min.js"></script>
       <!-- fullCalendar
	<script src="<?php echo site_url();?>public/site/main/js/moment.js"></script>
	<script src="<?php echo site_url();?>public/site/main/js/fullcalendar.min.js"></script>
	   <script src="<?php echo site_url();?>public/site/main/js/jquery.flowchart.js"></script>
	 <script type="text/javascript" src="<?php echo site_url();?>public/site/main/js/highcharts.js"></script>
	<script type="text/javascript" src="<?php echo site_url();?>public/site/main/js/exporting.js"></script>
    <script src="<?php echo site_url();?>public/site/main/js/custom.js"></script>
     <script src="<?php echo site_url();?>public/site/main/js/workflow.js"></script>
   <script src="<?php echo site_url();?>public/site/main/js/swfobject.min.js"></script>
   <script src="<?php echo site_url();?>public/site/main/js/net_js_main.js"></script>
   <script src="<?php echo site_url();?>public/site/main/js/piecircle.js"></script>
   <!--  404 Start
   	<script src="<?php echo site_url();?>public/site/main/js/jquery.vide.min.js"></script>
	<!-- Waypoints
	<script src="<?php echo site_url();?>public/site/main/js/jquery.waypoints.min.js"></script>
	<!-- Main JS
	<script src="<?php echo site_url();?>public/site/main/js/main.js"></script>

	<!--  404 Start
     <script src="<?php echo site_url();?>public/site/main/js/jquery.countdownTimer.min.js"></script>
	 <script src="<?php echo site_url();?>public/site/main/js/jstz.min.js"></script>
	 <script src="<?php echo site_url();?>public/site/main/js/jClocksGMT.js"></script>
     <script src="<?php echo site_url();?>public/site/main/js/jquery.rotate.js"></script>
     <script src="<?php echo site_url();?>public/site/main/js/ion.rangeSlider.min.js"></script>-->
